# Чат-приложение: React Frontend

Это React-версия фронтенда для чат-приложения. Она взаимодействует с существующим Go-бэкендом, сохраняя всю функциональность оригинального приложения, но с современным пользовательским интерфейсом.

## Технологии

- **React**: Библиотека для создания пользовательского интерфейса
- **React Router**: Для навигации между страницами
- **Bootstrap**: Для стилизации компонентов
- **WebSocket**: Для обмена сообщениями в реальном времени

## Структура проекта

```
frontend/
├── public/              # Статические файлы
│   └── index.html       # HTML-шаблон
├── src/                 # Исходный код
│   ├── components/      # React-компоненты
│   │   ├── Auth/        # Компоненты аутентификации
│   │   │   ├── Login.jsx
│   │   │   └── Register.jsx
│   │   ├── Chat/        # Компоненты чата
│   │   │   ├── ChatList.jsx
│   │   │   ├── ChatWindow.jsx
│   │   │   ├── CreateGroupChat.jsx
│   │   │   ├── CreatePrivateChat.jsx
│   │   │   └── MessageInput.jsx
│   │   └── Common/      # Общие компоненты
│   │       └── Header.jsx
│   ├── App.jsx          # Главный компонент приложения
│   ├── index.jsx        # Точка входа
│   └── index.css        # Глобальные стили
└── package.json         # Зависимости и скрипты
```

## Функциональность

- **Аутентификация**: Регистрация и вход в систему
- **Управление чатами**: Просмотр списка чатов, создание приватных и групповых чатов
- **Обмен сообщениями**: Отправка и получение сообщений в реальном времени
- **Работа с файлами**: Отправка и просмотр файлов
- **Управление сообщениями**: Редактирование и удаление сообщений
- **Статус пользователей**: Отображение статуса пользователей (онлайн/оффлайн)
- **Уведомления**: Счетчик непрочитанных сообщений и браузерные уведомления

## Особенности реализации

- **Интеграция с существующим бэкендом**: Фронтенд работает с существующими API-эндпоинтами без изменения бэкенда
- **Парсинг HTML-ответов**: Поскольку бэкенд возвращает HTML, а не JSON, фронтенд извлекает необходимые данные из HTML-ответов
- **WebSocket-соединение**: Для обмена сообщениями в реальном времени используется тот же WebSocket-эндпоинт, что и в оригинальном приложении
- **Адаптивный дизайн**: Интерфейс корректно отображается на устройствах с разными размерами экрана

## Установка и запуск

1. Установите зависимости:
```bash
cd frontend
npm install
```

2. Запустите сервер разработки:
```bash
npm start
```

3. Для сборки проекта:
```bash
npm run build
```

## Взаимодействие с бэкендом

Фронтенд взаимодействует с бэкендом через следующие эндпоинты:

- **Аутентификация**: `/register`, `/login`, `/logout`
- **Чаты**: `/chats`, `/chat/{id}`, `/create_private_chat`, `/create_group_chat`
- **Сообщения**: `/edit-message`, `/delete-message`, `/files/{id}`
- **WebSocket**: `/ws/chat/{id}`

Все запросы отправляются с `credentials: 'include'` для передачи сессионных cookie.
